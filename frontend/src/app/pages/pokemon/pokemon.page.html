<!-- Seção Pokémon Descobertos -->
<div class="pokemon-discovered">
  <div class="pokemon-discovered__container">
    <div class="section-header">
      <h2>Pokémon Descobertos</h2>
      <div class="filter-tabs">
        <button type="button" class="filter-tab active">Descobertos</button>
        <button type="button" class="filter-tab">Fogo</button>
        <button type="button" class="filter-tab">Água</button>
        <button type="button" class="filter-tab">Planta</button>
        <button type="button" class="filter-tab">Elétrico</button>
      </div>
    </div>
  </div>
</div>

<section class="content">
  <div class="status" *ngIf="loading()">
    <div class="spinner" aria-hidden="true"></div>
    <span>Carregando Pokémon...</span>
  </div>

  <div class="empty" *ngIf="!loading() && filteredPokemon().length === 0">
    Nenhum Pokémon encontrado com os filtros selecionados.
  </div>

  <div class="pokemon-grid" *ngIf="!loading() && filteredPokemon().length > 0">
    <div class="pokemon-grid__container">
      <article
        *ngFor="let pokemon of filteredPokemon() | slice:0:6"
        class="pokemon-card"
        [attr.data-types]="pokemon.types.join(' ')"
      >
        <!-- Badge de status no canto superior -->
        <div class="pokemon-card__badges">
          <span
            class="status-badge"
            [ngClass]="{
              'status-badge--new': pokemon.id === 1,
              'status-badge--hot': pokemon.id === 4,
              'status-badge--cool': pokemon.id === 7
            }"
          >
            <span *ngIf="pokemon.id === 1" class="badge-text">NEW</span>
            <span *ngIf="pokemon.id === 4" class="badge-text">HOT</span>
            <span *ngIf="pokemon.id === 7" class="badge-text">COOL</span>
          </span>
          <span class="pokemon-id">#{{ formatId(pokemon.id) }}</span>
        </div>

        <!-- Sprite do Pokémon -->
        <div class="pokemon-card__image">
          <img
            [src]="pokemon.sprite || 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/0.png'"
            [alt]="'Sprite de ' + formatName(pokemon.name)"
          />
        </div>

        <!-- Nome do Pokémon -->
        <h3 class="pokemon-card__name">{{ formatName(pokemon.name) }}</h3>

        <!-- Barras de stats -->
        <div class="pokemon-card__stats" *ngIf="pokemon.stats">
          <div class="stat-bar">
            <div class="stat-bar__fill" [style.width]="statWidth(pokemon.stats?.hp)" style="background-color: #ffa500;"></div>
            <span class="stat-bar__value">{{ pokemon.stats?.hp }}</span>
          </div>
          <div class="stat-bar">
            <div class="stat-bar__fill" [style.width]="statWidth(pokemon.stats?.attack)" style="background-color: #ff6b6b;"></div>
            <span class="stat-bar__value">{{ pokemon.stats?.attack }}</span>
          </div>
          <div class="stat-bar">
            <div class="stat-bar__fill" [style.width]="statWidth(pokemon.stats?.defense)" style="background-color: #4ecdc4;"></div>
            <span class="stat-bar__value">{{ pokemon.stats?.defense }}</span>
          </div>
        </div>
      </article>
    </div>
  </div>

  <footer class="pagination" *ngIf="totalCount() > limit">
    <button type="button" (click)="previousPage()" [disabled]="offset() === 0">Anterior</button>
    <span>Página {{ currentPage() }} de {{ totalPages() }}</span>
    <button
      type="button"
      (click)="nextPage()"
      [disabled]="offset() + limit >= totalCount()"
    >
      Próxima
    </button>
  </footer>
</section>
