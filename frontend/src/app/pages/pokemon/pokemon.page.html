<!-- Seção de filtros por TIPO (somente tipos, sem geração) -->
<section class="filters">
  <div class="filters__container">
    <h2 class="filters__title">Pokémon Descobertos</h2>

    <div class="filters__chips">
      <button
        *ngFor="let t of typeList"
        class="filter-chip"
        [class.filter-chip--active]="selectedType() === t"
        (click)="onType(t)"
      >
        {{ t === 'all' ? 'Todos os Tipos' : (t | titlecase) }}
      </button>
    </div>
  </div>
</section>

<!-- Grid de cards -->
<main class="content">
  <div class="pokemon-grid">
    <article class="pokemon-card" *ngFor="let p of pokemons(); trackBy: trackById">
      <header class="pokemon-card__header">
        <span class="pokemon-id">{{ p.dex }}</span>

        <div class="pokemon-card__top-right">
          <div class="pokemon-types">
            <span class="type-badge"
                  *ngFor="let type of p.types"
                  [style.background-color]="getTypeColor(type)">
              {{ type }}
            </span>
          </div>

          <!-- Favoritos -->
          <button class="icon-btn"
                  [class.icon-btn--active]="favoriteMap().has(p.id)"
                  [attr.aria-pressed]="favoriteMap().has(p.id)"
                  (click)="toggleFavorite(p)"
                  title="Favoritar">
            <span *ngIf="!favoriteMap().has(p.id)">♡</span>
            <span *ngIf="favoriteMap().has(p.id)">♥</span>
          </button>

          <!-- Equipe -->
          <button class="icon-btn sword"
                  [class.icon-btn--active]="isInTeam(p.id)"
                  [attr.aria-pressed]="isInTeam(p.id)"
                  (click)="toggleTeam(p)"
                  title="Adicionar à equipe (máx. 6)">
            ⚔
          </button>
        </div>
      </header>

      <figure class="pokemon-card__image">
        <img [src]="sprite(p)" [alt]="p.name" />
      </figure>

      <h3 class="pokemon-card__name">{{ p.name }}</h3>

      <ul class="pokemon-card__stats">
        <li class="stat-row">
          <span class="stat-label">HP</span>
          <div class="stat-bar"><div class="stat-bar__fill" [style.width.%]="pct(p.hp)"></div></div>
          <span class="stat-value">{{ p.hp }}</span>
        </li>
        <li class="stat-row">
          <span class="stat-label">Ataque</span>
          <div class="stat-bar"><div class="stat-bar__fill" [style.width.%]="pct(p.attack)"></div></div>
          <span class="stat-value">{{ p.attack }}</span>
        </li>
        <li class="stat-row">
          <span class="stat-label">Defesa</span>
          <div class="stat-bar"><div class="stat-bar__fill" [style.width.%]="pct(p.defense)"></div></div>
          <span class="stat-value">{{ p.defense }}</span>
        </li>
      </ul>
    </article>
  </div>
</main>
